import { createContext, useContext, useState, useEffect } from "react"

const LanguageContext = createContext()

// Translation keys and their values
const translations = {
  en: {
    // Navigation
    "nav.home": "Home",
    "nav.academies": "Academies", 
    "nav.matches": "Matches",
    "nav.jobs": "Job Opportunities",
    "nav.login": "Login",
    "nav.signup": "Sign Up",
    "nav.logout": "Logout",
    
    // Auth
    "auth.login": "Login",
    "auth.signup": "Sign Up",
    "auth.email": "Email",
    "auth.password": "Password",
    "auth.name": "Name",
    "auth.phone": "Phone",
    "auth.loginButton": "Login",
    "auth.signupButton": "Sign Up",
    "auth.logoutButton": "Logout",
    "auth.invalidCredentials": "Invalid credentials",
    "auth.emailExists": "Email already exists",
    "auth.loginFailed": "Login failed",
    "auth.registrationFailed": "Registration failed",
    "auth.dontHaveAccount": "Don't have an account?",
    "auth.alreadyHaveAccount": "Already have an account?",
    "auth.fullName": "Full name",
    "auth.phoneOptional": "Phone (optional)",
    "auth.passwordMin": "Password (min 6 chars)",
    "auth.loggingIn": "Logging in...",
    "auth.signingUp": "Signing up...",
    
    // Admin
    "admin.dashboard": "Dashboard",
    "admin.users": "Users",
    "admin.academies": "Academies",
    "admin.matches": "Matches",
    "admin.requests": "Player Requests",
    "admin.createAcademy": "Create Academy Account",
    "admin.panel": "Admin Panel",
    "admin.usersManagement": "Users Management",
    "admin.administrators": "Administrators",
    "admin.academyAccounts": "Academy Accounts",
    "admin.regularUsers": "Users",
    "admin.addUser": "Add User",
    "admin.delete": "Delete",
    "admin.noAdmins": "No administrators found",
    "admin.noAcademies": "No academy accounts found",
    "admin.noUsers": "No regular users found",
    "admin.welcomeBack": "Welcome back",
    "admin.platformOverview": "Here's your platform overview",
    "admin.totalUsers": "Total Users",
    "admin.totalAcademies": "Academies",
    "admin.totalMatches": "Matches",
    "admin.pendingRequests": "Pending Requests",
    "admin.recentRequests": "Recent Requests",
    "admin.viewAll": "View all",
    "admin.quickActions": "Quick Actions",
    "admin.manageAcademies": "Manage Academies",
    "admin.manageAcademiesDesc": "View and manage all football academies",
    "admin.manageMatches": "Manage Matches",
    "admin.manageMatchesDesc": "Oversee scheduled matches and events",
    "admin.manageRequests": "Manage Requests",
    "admin.manageRequestsDesc": "Handle academy join requests",
    "admin.manageUsers": "Manage Users",
    "admin.manageUsersDesc": "View and manage user accounts",
    "admin.platformStatus": "Platform Status",
    "admin.allSystemsOperational": "All systems operational",
    "admin.online": "Online",
    "admin.noRequestsYet": "No requests yet",
    
    // Academy
    "academy.dashboard": "Dashboard",
    "academy.players": "Players",
    "academy.matches": "Matches",
    "academy.requests": "Requests",
    "academy.analysis": "Analysis",
    "academy.jobs": "Jobs",
    "academy.panel": "Academy Panel",
    "academy.welcomeBack": "Welcome back",
    "academy.overview": "Here's your academy overview",
    "academy.totalPlayers": "Total Players",
    "academy.activeMatches": "Active Matches",
    "academy.pendingRequests": "Pending Requests",
    "academy.jobPostings": "Job Postings",
    "academy.recentActivity": "Recent Activity",
    "academy.viewAll": "View all",
    "academy.quickActions": "Quick Actions",
    "academy.managePlayers": "Manage Players",
    "academy.managePlayersDesc": "View and manage academy players",
    "academy.scheduleMatch": "Schedule Match",
    "academy.scheduleMatchDesc": "Create new match requests",
    "academy.viewRequests": "View Requests",
    "academy.viewRequestsDesc": "Handle player join requests",
    "academy.postJob": "Post Job",
    "academy.postJobDesc": "Create new job opportunities",
    "academy.academyStatus": "Academy Status",
    "academy.allSystemsOperational": "All systems operational",
    "academy.online": "Online",
    "academy.noActivityYet": "No activity yet",
    
    // Common
    "common.loading": "Loading...",
    "common.error": "Error",
    "common.retry": "Retry",
    "common.cancel": "Cancel",
    "common.save": "Save",
    "common.edit": "Edit",
    "common.delete": "Delete",
    "common.confirm": "Confirm",
    "common.yes": "Yes",
    "common.no": "No",
    "common.back": "Back",
    "common.next": "Next",
    "common.previous": "Previous",
    "common.search": "Search",
    "common.filter": "Filter",
    "common.clear": "Clear",
    "common.submit": "Submit",
    "common.close": "Close",
    "common.open": "Open",
    "common.view": "View",
    "common.details": "Details",
    "common.status": "Status",
    "common.date": "Date",
    "common.time": "Time",
    "common.location": "Location",
    "common.description": "Description",
    "common.name": "Name",
    "common.email": "Email",
    "common.phone": "Phone",
    "common.role": "Role",
    "common.active": "Active",
    "common.inactive": "Inactive",
    "common.pending": "Pending",
    "common.approved": "Approved",
    "common.rejected": "Rejected",
    "common.failed": "Failed",
    "common.success": "Success",
    "common.warning": "Warning",
    "common.info": "Info",
    "common.notFound": "Not Found",
    "common.accessDenied": "Access Denied",
    "common.unauthorized": "Unauthorized",
    "common.forbidden": "Forbidden",
    "common.serverError": "Server Error",
    "common.networkError": "Network Error",
    "common.tryAgain": "Try Again",
    "common.refresh": "Refresh",
    "common.somethingWentWrong": "Something went wrong",
    "common.pleaseRefresh": "Please refresh the page. If the issue persists, try again later.",
    "common.failedToLoad": "Failed to load",
    "common.confirmDelete": "Are you sure you want to delete this",
    "common.user": "user",
    "common.failedToDelete": "Failed to delete",
    
    // Public Pages
    "public.welcome": "Welcome to DWARLY",
    "public.tagline": "Connecting Egyptian football families with the best academies",
    "public.getStarted": "Get Started",
    "public.learnMore": "Learn More",
    "public.features": "Features",
    "public.findAcademies": "Find Academies",
    "public.findAcademiesDesc": "Discover top football academies across Egypt",
    "public.scheduleMatches": "Schedule Matches",
    "public.scheduleMatchesDesc": "Organize matches between academies",
    "public.jobOpportunities": "Job Opportunities",
    "public.jobOpportunitiesDesc": "Find coaching and training positions",
    "public.playerManagement": "Player Management",
    "public.playerManagementDesc": "Track player progress and development",
    "public.aboutUs": "About Us",
    "public.aboutUsDesc": "DWARLY is dedicated to supporting Egyptian football development",
    "public.contact": "Contact",
    "public.followUs": "Follow Us",
    "public.madeForEgyptian": "Made for Egyptian football families. ⚽🇪🇬",
    
    // Language
    "lang.english": "English",
    "lang.arabic": "العربية",
    "lang.switchTo": "Switch to",
  },
  ar: {
    // Navigation
    "nav.home": "الرئيسية",
    "nav.academies": "الأكاديميات",
    "nav.matches": "المباريات",
    "nav.jobs": "فرص العمل",
    "nav.login": "تسجيل الدخول",
    "nav.signup": "إنشاء حساب",
    "nav.logout": "تسجيل الخروج",
    
    // Auth
    "auth.login": "تسجيل الدخول",
    "auth.signup": "إنشاء حساب",
    "auth.email": "البريد الإلكتروني",
    "auth.password": "كلمة المرور",
    "auth.name": "الاسم",
    "auth.phone": "رقم الهاتف",
    "auth.loginButton": "دخول",
    "auth.signupButton": "إنشاء حساب",
    "auth.logoutButton": "خروج",
    "auth.invalidCredentials": "بيانات الدخول غير صحيحة",
    "auth.emailExists": "البريد الإلكتروني موجود بالفعل",
    "auth.loginFailed": "فشل تسجيل الدخول",
    "auth.registrationFailed": "فشل إنشاء الحساب",
    "auth.dontHaveAccount": "ليس لديك حساب؟",
    "auth.alreadyHaveAccount": "لديك حساب بالفعل؟",
    "auth.fullName": "الاسم الكامل",
    "auth.phoneOptional": "رقم الهاتف (اختياري)",
    "auth.passwordMin": "كلمة المرور (6 أحرف على الأقل)",
    "auth.loggingIn": "جاري تسجيل الدخول...",
    "auth.signingUp": "جاري إنشاء الحساب...",
    
    // Admin
    "admin.dashboard": "لوحة التحكم",
    "admin.users": "المستخدمون",
    "admin.academies": "الأكاديميات",
    "admin.matches": "المباريات",
    "admin.requests": "طلبات اللاعبين",
    "admin.createAcademy": "إنشاء حساب أكاديمية",
    "admin.panel": "لوحة الإدارة",
    "admin.usersManagement": "إدارة المستخدمين",
    "admin.administrators": "المديرون",
    "admin.academyAccounts": "حسابات الأكاديميات",
    "admin.regularUsers": "المستخدمون",
    "admin.addUser": "إضافة مستخدم",
    "admin.delete": "حذف",
    "admin.noAdmins": "لا يوجد مديرون",
    "admin.noAcademies": "لا توجد حسابات أكاديميات",
    "admin.noUsers": "لا يوجد مستخدمون عاديون",
    "admin.welcomeBack": "مرحباً بعودتك",
    "admin.platformOverview": "إليك نظرة عامة على المنصة",
    "admin.totalUsers": "إجمالي المستخدمين",
    "admin.totalAcademies": "الأكاديميات",
    "admin.totalMatches": "المباريات",
    "admin.pendingRequests": "الطلبات المعلقة",
    "admin.recentRequests": "الطلبات الأخيرة",
    "admin.viewAll": "عرض الكل",
    "admin.quickActions": "الإجراءات السريعة",
    "admin.manageAcademies": "إدارة الأكاديميات",
    "admin.manageAcademiesDesc": "عرض وإدارة جميع أكاديميات كرة القدم",
    "admin.manageMatches": "إدارة المباريات",
    "admin.manageMatchesDesc": "الإشراف على المباريات والأحداث المجدولة",
    "admin.manageRequests": "إدارة الطلبات",
    "admin.manageRequestsDesc": "معالجة طلبات الانضمام للأكاديميات",
    "admin.manageUsers": "إدارة المستخدمين",
    "admin.manageUsersDesc": "عرض وإدارة حسابات المستخدمين",
    "admin.platformStatus": "حالة المنصة",
    "admin.allSystemsOperational": "جميع الأنظمة تعمل بشكل طبيعي",
    "admin.online": "متصل",
    "admin.noRequestsYet": "لا توجد طلبات بعد",
    
    // Academy
    "academy.dashboard": "لوحة التحكم",
    "academy.players": "اللاعبون",
    "academy.matches": "المباريات",
    "academy.requests": "الطلبات",
    "academy.analysis": "التحليل",
    "academy.jobs": "الوظائف",
    "academy.panel": "لوحة الأكاديمية",
    "academy.welcomeBack": "مرحباً بعودتك",
    "academy.overview": "إليك نظرة عامة على أكاديميتك",
    "academy.totalPlayers": "إجمالي اللاعبين",
    "academy.activeMatches": "المباريات النشطة",
    "academy.pendingRequests": "الطلبات المعلقة",
    "academy.jobPostings": "عروض الوظائف",
    "academy.recentActivity": "النشاط الأخير",
    "academy.viewAll": "عرض الكل",
    "academy.quickActions": "الإجراءات السريعة",
    "academy.managePlayers": "إدارة اللاعبين",
    "academy.managePlayersDesc": "عرض وإدارة لاعبي الأكاديمية",
    "academy.scheduleMatch": "جدولة مباراة",
    "academy.scheduleMatchDesc": "إنشاء طلبات مباريات جديدة",
    "academy.viewRequests": "عرض الطلبات",
    "academy.viewRequestsDesc": "معالجة طلبات انضمام اللاعبين",
    "academy.postJob": "نشر وظيفة",
    "academy.postJobDesc": "إنشاء فرص عمل جديدة",
    "academy.academyStatus": "حالة الأكاديمية",
    "academy.allSystemsOperational": "جميع الأنظمة تعمل بشكل طبيعي",
    "academy.online": "متصل",
    "academy.noActivityYet": "لا يوجد نشاط بعد",
    
    // Common
    "common.loading": "جاري التحميل...",
    "common.error": "خطأ",
    "common.retry": "إعادة المحاولة",
    "common.cancel": "إلغاء",
    "common.save": "حفظ",
    "common.edit": "تعديل",
    "common.delete": "حذف",
    "common.confirm": "تأكيد",
    "common.yes": "نعم",
    "common.no": "لا",
    "common.back": "رجوع",
    "common.next": "التالي",
    "common.previous": "السابق",
    "common.search": "بحث",
    "common.filter": "تصفية",
    "common.clear": "مسح",
    "common.submit": "إرسال",
    "common.close": "إغلاق",
    "common.open": "فتح",
    "common.view": "عرض",
    "common.details": "التفاصيل",
    "common.status": "الحالة",
    "common.date": "التاريخ",
    "common.time": "الوقت",
    "common.location": "الموقع",
    "common.description": "الوصف",
    "common.name": "الاسم",
    "common.email": "البريد الإلكتروني",
    "common.phone": "رقم الهاتف",
    "common.role": "الدور",
    "common.active": "نشط",
    "common.inactive": "غير نشط",
    "common.pending": "في الانتظار",
    "common.approved": "موافق عليه",
    "common.rejected": "مرفوض",
    "common.failed": "فشل",
    "common.success": "نجح",
    "common.warning": "تحذير",
    "common.info": "معلومات",
    "common.notFound": "غير موجود",
    "common.accessDenied": "الوصول مرفوض",
    "common.unauthorized": "غير مخول",
    "common.forbidden": "محظور",
    "common.serverError": "خطأ في الخادم",
    "common.networkError": "خطأ في الشبكة",
    "common.tryAgain": "حاول مرة أخرى",
    "common.refresh": "تحديث",
    "common.somethingWentWrong": "حدث خطأ ما",
    "common.pleaseRefresh": "يرجى تحديث الصفحة. إذا استمرت المشكلة، حاول مرة أخرى لاحقاً.",
    "common.failedToLoad": "فشل في تحميل",
    "common.confirmDelete": "هل أنت متأكد من حذف هذا",
    "common.user": "المستخدم",
    "common.failedToDelete": "فشل في حذف",
    
    // Public Pages
    "public.welcome": "مرحباً بك في دورلي",
    "public.tagline": "ربط عائلات كرة القدم المصرية بأفضل الأكاديميات",
    "public.getStarted": "ابدأ الآن",
    "public.learnMore": "اعرف المزيد",
    "public.features": "المميزات",
    "public.findAcademies": "البحث عن الأكاديميات",
    "public.findAcademiesDesc": "اكتشف أفضل أكاديميات كرة القدم في مصر",
    "public.scheduleMatches": "جدولة المباريات",
    "public.scheduleMatchesDesc": "تنظيم المباريات بين الأكاديميات",
    "public.jobOpportunities": "فرص العمل",
    "public.jobOpportunitiesDesc": "العثور على وظائف التدريب والتدريب",
    "public.playerManagement": "إدارة اللاعبين",
    "public.playerManagementDesc": "تتبع تقدم وتطوير اللاعبين",
    "public.aboutUs": "من نحن",
    "public.aboutUsDesc": "دورلي مكرس لدعم تطوير كرة القدم المصرية",
    "public.contact": "اتصل بنا",
    "public.followUs": "تابعنا",
    "public.madeForEgyptian": "صُنع لعائلات كرة القدم المصرية. ⚽🇪🇬",
    
    // Language
    "lang.english": "English",
    "lang.arabic": "العربية",
    "lang.switchTo": "التبديل إلى",
  }
}

export const LanguageProvider = ({ children }) => {
  const [language, setLanguage] = useState(() => {
    // Get from localStorage or default to English
    return localStorage.getItem('dwarly-language') || 'en'
  })

  useEffect(() => {
    // Save to localStorage when language changes
    localStorage.setItem('dwarly-language', language)
    
    // Update document direction and lang attribute
    document.documentElement.dir = language === 'ar' ? 'rtl' : 'ltr'
    document.documentElement.lang = language
  }, [language])

  const t = (key) => {
    return translations[language]?.[key] || key
  }

  const switchLanguage = (newLang) => {
    setLanguage(newLang)
  }

  return (
    <LanguageContext.Provider value={{ language, t, switchLanguage }}>
      {children}
    </LanguageContext.Provider>
  )
}

export const useLanguage = () => {
  const context = useContext(LanguageContext)
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider')
  }
  return context
}
